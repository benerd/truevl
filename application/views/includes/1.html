
<!doctype html>  
<html lang="en">
<head>   
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  <title>Truevl</title>
   <link rel="shortcut icon" href="http://truevl.com/test/assets/img/favicon.ico">
  <link rel="stylesheet" href="http://truevl.com/test/assets/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="http://truevl.com/test/assets/css/main.css">
<script type="text/javascript" src="http://truevl.com/test/assets/js/main.js"></script>
 
  <script type="text/javascript" src="http://truevl.com/test/assets/js/jquery.js"></script>
 
<link href="https://fonts.googleapis.com/css?family=Arimo" rel="stylesheet">

</head>
<body>


<div id="wrapper">  

<header>
  


  <div id="left">  <h1> <a href="http://truevl.com/test/" class="tn"> truevl </a> </h1> 
  </div>

    

  
   <div id="centerSrch"> 
   <div class="headerIco">
    <a href="http://truevl.com/test/" class="home nic1 margin6">  
    
<svg version="1.0" xmlns="http://www.w3.org/2000/svg"
 width="16.000000pt" height="16.000000pt" viewBox="0 0 722.000000 722.000000"
 preserveAspectRatio="xMidYMid meet">
<metadata>

</metadata>
<g transform="translate(0.000000,722.000000) scale(0.100000,-0.100000)"
fill="#ccc" id="ia1" stroke="none">
<path d="M2075 4982 c-847 -943 -1541 -1719 -1543 -1724 -2 -4 210 -8 472 -8
l476 0 0 -1385 0 -1385 2135 0 2135 0 2 1383 3 1382 477 5 476 5 -1534 1710
c-844 941 -1540 1715 -1547 1722 -9 9 -363 -379 -1552 -1705z m2470 -140 c506
-564 922 -1030 923 -1034 2 -4 -57 -8 -132 -8 l-136 0 0 -1380 0 -1380 -270 0
-269 0 -3 648 -3 647 -31 65 c-53 111 -142 184 -261 215 -53 14 -148 15 -725
13 l-663 -3 -67 -32 c-93 -44 -151 -100 -196 -191 l-37 -76 -3 -643 -3 -643
-319 0 -320 0 0 1380 0 1379 -135 3 -135 3 926 1033 c510 567 930 1032 933
1031 3 0 420 -462 926 -1027z m-437 -3519 l-3 -758 -442 -3 -443 -2 0 753 c0
415 3 757 7 760 3 4 204 7 445 7 l438 0 -2 -757z"/>
</g>
</svg>

     </a>

  <a href="#" class="frnd nic2 margin6" id="friendsnoti">  
  
<svg version="1.0" xmlns="http://www.w3.org/2000/svg"
 width="16.000000pt" height="16.000000pt" viewBox="0 0 724.000000 722.000000"
 preserveAspectRatio="xMidYMid meet">
<metadata>
Created by potrace 1.15, written by Peter Selinger 2001-2017
</metadata>
<g transform="translate(0.000000,722.000000) scale(0.100000,-0.100000)"
fill="#ccc" id="ia2" stroke="none">
<path d="M3350 6714 c-216 -18 -364 -45 -525 -95 -1032 -319 -1635 -1332
-1391 -2334 72 -293 238 -610 436 -829 l35 -39 -29 -21 c-454 -329 -789 -720
-1029 -1201 -177 -355 -287 -739 -327 -1140 -5 -60 -11 -218 -13 -350 l-2
-240 3130 0 3130 0 -2 250 c-2 259 -18 445 -54 635 -151 794 -589 1500 -1235
1987 -65 50 -207 143 -300 199 -16 9 -10 22 65 134 272 406 378 877 305 1350
-133 864 -854 1549 -1764 1674 -110 15 -353 27 -430 20z m268 -559 c516 -29
1029 -365 1251 -820 120 -244 163 -467 140 -714 -58 -621 -514 -1122 -1159
-1275 -668 -158 -1365 118 -1718 679 -76 122 -148 308 -179 465 -24 118 -23
385 1 495 56 252 155 455 320 647 209 244 532 430 866 498 110 23 277 39 345
34 22 -2 82 -6 133 -9z m1194 -3051 c200 -101 416 -262 609 -454 231 -229 375
-431 514 -715 138 -281 217 -546 260 -868 l6 -47 -2565 0 -2566 0 6 48 c73
582 326 1120 721 1532 157 164 342 315 510 417 l51 32 134 -67 c284 -143 575
-217 903 -228 423 -15 803 78 1165 285 52 29 109 64 125 77 17 13 36 24 43 24
7 0 45 -16 84 -36z"/>
<path d="M4930 2701 c-117 -35 -178 -77 -337 -232 l-103 -100 58 6 c39 5 77 2
121 -10 l63 -16 62 59 c80 78 142 108 224 111 150 6 265 -104 265 -254 0 -103
-23 -139 -201 -318 -186 -187 -224 -211 -336 -210 -52 0 -82 5 -112 21 -48 24
-105 85 -134 143 l-22 42 -68 -68 -69 -69 22 -40 c12 -23 54 -73 92 -112 54
-54 84 -76 130 -94 73 -28 188 -37 253 -20 106 29 152 64 364 278 224 227 256
272 278 400 47 272 -284 563 -550 483z"/>
<path d="M4484 2264 c-115 -23 -155 -51 -353 -252 -200 -204 -232 -245 -261
-341 -45 -144 -11 -291 95 -409 96 -106 222 -158 367 -150 133 8 182 36 338
193 l125 125 -90 1 c-50 0 -99 4 -110 8 -16 7 -32 -3 -82 -51 -79 -75 -137
-102 -223 -102 -101 1 -194 54 -237 137 -22 43 -29 146 -13 204 12 42 35 70
189 225 201 205 231 223 352 216 91 -5 148 -41 208 -131 l45 -68 69 69 70 70
-37 55 c-110 166 -272 238 -452 201z"/>
</g>
</svg>
  </a>
 <!-- <MSG ICON> -->
<a href="#" class="truevlmsg nic3 margin6">
 
<svg version="1.0" xmlns="http://www.w3.org/2000/svg"
 width="16.000000pt" height="16.000000pt" viewBox="0 0 716.000000 720.000000"
 preserveAspectRatio="xMidYMid meet">
<metadata>

</metadata>
<g transform="translate(0.000000,720.000000) scale(0.100000,-0.100000)"
fill="#ccc" id="ia3" stroke="none">
<path d="M3250 6669 c-149 -16 -328 -49 -455 -84 -507 -139 -983 -436 -1319
-824 -359 -415 -572 -879 -652 -1426 -28 -184 -25 -563 4 -754 94 -600 355
-1113 786 -1543 l123 -123 -359 -430 c-197 -236 -361 -435 -364 -441 -3 -7 64
-107 148 -223 123 -170 157 -210 173 -208 11 3 397 158 859 346 l839 342 126
-18 c171 -24 526 -24 701 0 598 83 1139 349 1559 768 422 421 680 934 773
1534 31 201 31 569 0 770 -93 599 -350 1112 -767 1530 -412 413 -934 677
-1519 766 -151 24 -518 34 -656 18z m580 -564 c831 -131 1503 -713 1745 -1512
63 -207 88 -376 88 -613 0 -211 -12 -329 -53 -506 -46 -196 -148 -444 -256
-623 -114 -187 -314 -417 -484 -554 -499 -403 -1146 -565 -1772 -443 l-118 23
-412 -168 c-226 -93 -414 -167 -416 -164 -3 3 302 375 370 451 l19 22 -163
112 c-90 62 -199 143 -243 180 -584 490 -869 1233 -759 1980 126 858 768 1564
1614 1775 91 23 254 50 350 59 93 8 389 -3 490 -19z"/>
<path d="M2380 4820 l0 -170 1225 0 1225 0 0 170 0 170 -1225 0 -1225 0 0
-170z"/>
<path d="M1860 3900 l0 -170 1710 0 1710 0 0 170 0 170 -1710 0 -1710 0 0
-170z"/>
<path d="M2390 2985 l0 -175 1225 0 1225 0 0 175 0 175 -1225 0 -1225 0 0
-175z"/>
</g>
</svg>

</a>
<!-- </MSG ICON> -->



<span class="tmsgsn">  </span>

<span class="noti">  </span> 







 <a href="#" class="notification nic4 margin6" id="noti_prop">  

    <svg version="1.0" xmlns="http://www.w3.org/2000/svg"
 width="16.000000pt" height="16.000000pt" viewBox="0 0 692.000000 689.000000"
 preserveAspectRatio="xMidYMid meet">
<metadata>
Created by potrace 1.15, written by Peter Selinger 2001-2017
</metadata>
<g transform="translate(0.000000,689.000000) scale(0.100000,-0.100000)"
fill="#ccc" id="ia4" stroke="none">
<path d="M3180 6474 c-678 -91 -1221 -524 -1439 -1147 l-31 -89 0 -947 0 -948
-689 -1194 -689 -1194 1169 -5 1170 -5 28 -66 c50 -118 143 -239 244 -315 222
-168 519 -202 762 -85 44 21 108 59 142 84 97 73 201 208 249 325 l23 57 1225
5 1224 5 -712 1182 -713 1182 -6 963 -5 963 -25 76 c-104 309 -274 561 -518
764 -372 310 -903 457 -1409 389z m400 -544 c283 -34 524 -141 709 -316 98
-92 162 -179 229 -313 l57 -113 6 -332 c4 -182 7 -637 8 -1011 l1 -680 500
-829 c275 -456 500 -830 500 -832 0 -2 -968 -4 -2151 -4 -1898 0 -2150 2
-2145 15 3 8 220 387 483 842 l478 828 5 990 5 990 47 98 c27 54 70 131 98
171 60 87 201 227 289 286 250 168 577 246 881 210z m76 -5029 c-26 -27 -73
-62 -105 -77 -50 -26 -66 -29 -156 -29 -90 0 -105 3 -153 28 -54 28 -142 102
-142 118 0 5 136 9 302 9 l302 0 -48 -49z"/>
<path d="M2430 2305 l0 -745 1048 2 1047 3 3 743 2 742 -1050 0 -1050 0 0
-745z m1162 285 l-163 -79 -137 76 c-75 41 -139 77 -141 79 -2 2 133 4 300 3
l304 0 -163 -79z m556 -342 l-3 -303 -667 -3 -668 -2 0 299 0 299 303 -167
c184 -103 306 -165 313 -160 6 5 13 7 15 5 2 -3 159 71 349 164 190 93 348
169 353 170 4 0 6 -136 5 -302z"/>
</g>
</svg>
</a>


<span class="noti2">  </span> 



<div class="promo_noti3"> </div>

 <img style="margin-left: 30px;"   src=" http://truevl.com/test/../profilePics/201811201e5c5d03d70c201bfc469fd794aa58c8.png" valign="top" >
 <a class=" hnm" href="http://truevl.com/test/Users/profile">   Ravi Nautiyal  </a> &nbsp; <span class="text-white"> | </span> &nbsp;  <a class="hnm" href="http://truevl.com/test/Feeds/dashboard"> Account </a>
 
  </div>
  <div class="noti1" id="noti1">  </div>
  <div class="tmsgs">  </div>
  <div class="noti3"> </div>
   </div>
<div id="search_result">

</div>


 <div id="right"> <form ><input type='text' placeholder='Search...' id='search-text-input' onkeyup="search_truevl();" /> </form> 



 <div class="headerIco">
  <a class="opt" href="#" onclick="options();return false;">  <img src="http://truevl.com/test/assets/img/options.png" style="height: 18px;width: 18px;" > </a>
</div>
<div class="options"> </div>
 </div>


</header>

<br clear="all">


<div class="marg_top">




<div id="promoModal" class="modal fade" role="dialog" >
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title"> Promotion Request </h4>
      </div>
      <div class="modal-body">
     
        <div>

          <div id="promoter_info">
            
           </div>
           <div id="publisher_side">
           
           </div>  
           <div class="cl"> </div>
        </div>
         <div class="cl"> </div>
      </div>
     
    </div>

  </div>
</div>


<div id="acceptPromoModal" class="modal fade" role="dialog">
  <div class="modal-dialog modal-sm">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title"> Promotion Request </h4>
      </div>
      <div class="modal-body" style="padding: 0px;">
        <p id="acceptPromoMsg">    </p>
        
         <div class="cl"> </div>
      </div>
     
    </div>

  </div>
</div>


<div class="modal fade" id="FriendReqModal" role="dialog">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title"> Friend Request </h4>
        </div>
        <div class="modal-body">
              <div id="frndData"> </div>
          <div class="cl"> </div>

        </div>
      
      </div>
      
    </div>
  </div>
  


<span id="notifier"></span>


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-81295019-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-81295019-1');
</script>
<script type="text/javascript">
 
function confirm(fid,uid,cnfrm,key) {
    $.ajax({
    url: 'http://truevl.com/test/Users/friendAccept/'+fid+'/'+uid+'/'+cnfrm,
    type: 'POST', 
    cache: false,
    contentType: false,
    processData: false,
    success: function(response){
        if(cnfrm==1){
          $(".frnd"+key).html("Linked").css("color", "green").fadeOut(5000);
        }
        else{
          $(".frnd"+key).html("Rejected").css("color", "Red").fadeOut(5000);
        }
    }
  });



 
}

  $(document).ready(function(){ 
    var lnk=$(".opt");
  var po=$(".options");
  
  
  lnk.click(function(){
    $(".options").show();
    $(".options").html(' <ul>  <li> <a class="fw" href="http://truevl.com/test/Help"> Help </a> </li>  <li>  <a class="fw"  href="http://truevl.com/test/settings"> Setting &amp; Privacy  </a>   </li>    <li>  <a class="fw"  href="http://truevl.com/test/Users/logout "> Logout  </a> </li></ul>');
    return false;
  });
        po.click(function(e) {
            e.stopPropagation();
        });
  

function load_unseen_friendnotification(view = '')
 {
  $.ajax({
   url:"http://truevl.com/test/Feeds/buyer_request",
   method:"POST",
   data:{view:view},
   dataType:"json",
   success:function(data)
   {
    $('.noti1').html(data.notification);
    if(data.unseen_notification > 0)
    {
     $('.noti').html(data.unseen_notification).show();
    } 
    else{
      $(".noti").hide();
    }
   }
  });
 }
 
 load_unseen_friendnotification();
 
 
 $('.frnd').click( function(){
  $('.noti').html('');
  load_unseen_friendnotification('yes');


 });
 



setInterval(function(){
  load_unseen_friendnotification();; 
 }, 5000);





function load_unseen_notification(view = '')
 {
  $.ajax({
   url:"http://truevl.com/test/Feeds/notification",
   method:"POST",
   data:{view:view},
   dataType:"json",
   success:function(data)
   {
    $('.noti3').html(data.notification);
    if(data.unseen_notification > 0)
    {
      $(".noti2").show();
      $(".noti2").css("font-weight", "bold");
     $('.noti2').html(data.unseen_notification);
    }
    else{
      $(".noti2").hide();
    }

   }
  });

  return false;
 }
 
 load_unseen_notification();
 
 
 $('.notification').click( function(){
   
  load_unseen_notification('yes');
 });
 
 setInterval(function(){ 
  load_unseen_notification();; 
 }, 5000);
 

function load_msgs(view = '')
 {
  $.ajax({
   url:"http://truevl.com/test/Feeds/msgs",
   method:"POST",
   data:{view:view},
   dataType:"json",
   success:function(data)
   {

    $('.tmsgs').html(data.notification);
      
    if(data.unseen_notification > 0){
       $(".tmsgsn").show();
       $(".tmsgsn").html(data.unseen_notification);
    }
    else{
       $(".tmsgsn").hide();
    }

   }
  });
   return false;
 }
 
 load_msgs();
 
 
 $('.truevlmsg').click( function(){
  load_msgs('yes');

 });
 

});


$(".nic1").mouseout(function(){
  $("#ia1").attr("fill", "#ccc");
});

$(".nic2").mouseout(function(){
  $("#ia2").attr("fill", "#ccc");
});

$(".nic3").mouseout(function(){
  $("#ia3").attr("fill", "#ccc");
});

$(".nic4").mouseout(function(){
  $("#ia4").attr("fill", "#ccc");
});



$(".nic1").mouseover(function(){
  
  $("#ia1").attr("fill", "#282923");
});

$(".nic2").mouseover(function(){
  $("#ia2").attr("fill", "#282923");
});

$(".nic3").mouseover(function(){
  $("#ia3").attr("fill", "#282923");
});

$(".nic4").mouseover(function(){
  $("#ia4").attr("fill", "#282923");
});




</script>

<script type="text/javascript">

$(window).resize(function(){
 var w=$(window).width()
  
  if(w <=1200){
   
    $("#Tleft").css({"position": "absolute","left": "15px"});
    $("#Tcenter").css({"position": "absolute","left": "218px"});
  
    $("#Tright").css({"position": "absolute","left" : "915px"}); 
    $("#Tfull").css({"position": "absolute","left" : "190px", "width": "900px"}); 
}

  else{
     $("#Tleft").css({"position": "absolute","left": "157px"});
    $("#Tcenter").css({"position": "absolute","left": "362px"});
    
    $("#Tright").css({"position": "fixed","left" : "905px"}); 
    $("#Tfull").css({"position": "absolute","left" : "260px", "width": "900px"}); 
  }

}); 


// $(document).click(function() {
 

//      $(".options").hide();
//      $(".noti1").hide();
//      $(".noti3").hide();  
//         });

//   function options(){ 



// }

    $("#friendsnoti").click(function(){
      var data=document.getElementById("noti1").innerHTML;
      $("#frndData").html(data);
      $("#FriendReqModal").modal("show");
      return false;
    })

 $(document).on('click', function(e) {  
    if ( $(e.target).closest('#search-text-input').length ) {
        $("#search_result").toggle();
    }else if ( ! $(e.target).closest('#search_result').length ) {
        $('#search_result').hide();
    } 

    if ( $(e.target).closest('#noti_prop').length ) {
        $(".noti3").toggle();
        return false;
    }else if ( ! $(e.target).closest('.noti3').length ) {
        $('.noti3').hide();
    }   

     if ( $(e.target).closest('.truevlmsg').length ) {
        $(".tmsgs").toggle();
        return false;
    }else if ( ! $(e.target).closest('.noti3').length ) {
        $('.tmsgs').hide();
    }    


});


function search_truevl(){

  var input=$("#search-text-input").val();
  var data="";
  if(input.length>0){
  $.ajax({
    url: "http://truevl.com/test/Feeds/search_truevl",
    method: "POST",
    data: { input: input },
    datatype: "json",
    success: function(response){
       document.getElementById("search_result").style.display="block";
      document.getElementById("search_result").innerHTML=response;   
    }
  });
} 
  else{
      document.getElementById("search_result").style.display="none";
      document.getElementById("search_result").innerHTML="";
  }
}


getPromoCount();

function getPromoCount(){

    $.ajax({
      url: "http://truevl.com/test/Feeds/getPromoCount",
      type: "post",
      success: function(response){
          $("#promoCount").html(response);
      }

    });
}


getBidCount();

function getBidCount(){

    $.ajax({
      url: "http://truevl.com/test/Feeds/getBidCount",
      type: "post",
      success: function(response){
          $("#bidCount").html(response);
      }

    });
}

 setInterval(function(){ 
  getPromoCount();
 }, 5000);

  setInterval(function(){ 
  getBidCount();
 }, 5000);




function notifier(id){
    $.ajax({
      url: "http://truevl.com/test/Feeds/notifier",
      data: {id: id},
      type: "post",
      success: function(response){
          $("#notifier").html('<div class="modal fade" id="notifierModal" role="dialog">    <div class="modal-dialog modal-sm">          <!-- Modal content-->      <div class="modal-content">        <div class="modal-header">          <button type="button" class="close" data-dismiss="modal">&times;</button>          <h4 class="modal-title"> Notification </h4>        </div>        <div class="modal-body" style="padding:0px; ">  '+response+'   </p>        </div>                </div>  </div>');

  $("#notifierModal").modal("show");
      }
    });
  
}

function notification_by_users(notiId){
    $.ajax({
      url:"http://truevl.com/test/Feeds/notification_by_users",
      type: "post",
      data: {notiId:notiId},
      success: function(response){
          $("#notifier").html('<div class="modal fade" id="notifierModal" role="dialog">    <div class="modal-dialog modal-sm">          <!-- Modal content-->      <div class="modal-content">        <div class="modal-header">          <button type="button" class="close" data-dismiss="modal">&times;</button>          <h4 class="modal-title"> Notification </h4>        </div>        <div class="modal-body" style="padding:0px; ">  '+response+'   </p>        </div>                </div>  </div>');
      $("#notifierModal").modal("show");
      }
    });
}

</script>


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script type="text/javascript">  
      var iScrollPos = 0;    
      $(document).ready(function(){ 
         $(document).scrollTop(0);  
          loadmore();
          $(window).scroll(function () 
          { 
                wh();
                $(".post").each(function(){
                });
          });
   
  function wh(){
    if($(window).scrollTop() >= ($(document).height() - $(window).height())*0.8)
          { 
            loadmore(); 
          }
  }
  
  function loadmore() 
  {

      $(window).unbind('scroll');
      var val = document.getElementById("row_no").value;
      
      var content = document.getElementById("all_rows").innerHTML;
      var contenta= document.getElementById("all_rows");
      var c,c1,gsb;
      $.ajax({
      type: 'post',
      url: 'http://truevl.com/test/Feeds/loadpost/1',
      data: {
       getresult:val
      },
      async: false,
      beforeSend: function() {
        
        $("#loading_img").html("<img src='http://truevl.com/test/assets/img/loadingg.gif' width='100%'> <br> <img src='http://truevl.com/test/assets/img/loadingg.gif' width='100%'>");

      },
      success: function (response) {
          $("#all_rows").append(response);
          document.getElementById("row_no").value = Number(val)+10; 
      },
      complete: function() {
      
        $(window).bind('scroll', wh); 
         $("#loading_img").html("");
       }
      });
    }
}); 


      function cmnt(e,rid,id,pid,uid,key,unm,pp,flag,kkey){
         content = $("#comments"+id).val();
         if(content.length  > 0){
           $(".repBtn"+key).html("<button onclick='cmntreply(event,"+rid+",\""+id+"\","+pid+","+uid+","+key+",\""+unm+"\",\""+pp+"\","+flag+","+kkey+");return false;' class='btn-primary'  style='width: 38px;font-size: 11px;'> Post </button>"); 
         }
         else{
          $(".repBtn"+key).html("");
         }
      } 
      var counterr=0;
      function cmntreply(e,rid,id,pid,uid,key,unm,pp,flag,kkey){
        content = $("#comments"+id).val(); 
        var x=y="";
        var replyCount=$(".replyCount"+key).html();
        var counter=$(".ncmnts"+key).html();
              $.ajax({
              type: 'post',
              url: 'http://truevl.com/test/Feeds/post_comment/'+pid,
              data: {
                content:content, rid: rid,kkey:kkey
              },
              success: function (response){
                 $("#comments"+id).val('');              
                 repcmnt(rid,id,pid,uid,key,unm,pp,kkey);
                 $(".ncmnts"+key).html(parseInt(counter)+1);
                 $(".replyCount"+key).html(parseInt(replyCount)+1);
              },
             });       
      }

</script>

<style type="text/css">

body.modal-open {
    overflow: visible;
}

#absPos{
    position: absolute;bottom: 13px;background: #6161613b;width: 89.1%; 
    padding: 12px 14px; min-height:20px;
} 


.mod-replies::-webkit-scrollbar { 
    display: none; 
    overflow-y: scroll;
}
.mod-replies{
  max-height: 310px; overflow-y: scroll;
}

#mod_img{
   width:100%;
    display:flex;
    justify-content:center;
    align-items:center;
    overflow:hidden;
    background: #000;
}

#mod_img img{
  flex-shrink:0;
  -webkit-flex-shrink: 0;
  max-width:70%;
  max-height:90%; 
}
 .ad_header{
  width: 90%;
  float: left;
  padding: 0px 0px 0px 0px ;
}

.ad_head_left{
  float: left;
  font-size: 18px;
  font-weight: bold;
  margin-left: 4px;
}

.ad_head_right{
  float: right;
  color: rgba(0,0,0,0.6);
  line-height: 15px;
}


.parent {
  position: relative;
  top: 0;
  left: 0;
}
.image1 { 
  position: relative;
  top: 0;
  left: 0;
}
.image2 {
  position: absolute;
  top: 80px;
  left: 170px;  
}
 

.post-opt{
  display: none;
 width: 310px;
margin-top: 10px;
font-size: 11px;
position: absolute;
font-family: 'Lucida Grande', Tahoma, Verdana, Arial, sans-serif;
z-index: 1;
right: .1%;
background-color: white;
padding: 9px 11px;
background: rgba(255, 255, 255);
border: 1px solid #c5c5c5;
-webkit-box-shadow: 0 3px 8px rgba(0, 0, 0, .25);
-moz-box-shadow: 0 3px 8px rgba(0, 0, 0, .25);
box-shadow: 0 3px 8px rgba(0, 0, 0, .25);
-webkit-border-radius: 3px;
-moz-border-radius: 3px;
border-radius: 3px;
}

.post-opt .tip {
background-image: url('http://truevl.com/test/assets/img/tip.png');
background-repeat: no-repeat;
background-size: auto;
height: 11px;
position: absolute;
top: -11px;
right: 12px;
width: 20px;
}
 
.post-opt ul li{
   padding-top: 5px;
  padding-bottom: 5px;
  padding-left: 10px;
  /*padding-left: 10px;*/
  border-bottom: 1px solid #ddd;
   color: #999;
}

.post-opt ul li a:hover{
  font-weight: bold;
  text-decoration: none;
}
.post-opt ul li a{
  width: 100%;
  color: #000;
  font-size: 14px;
  line-height:16px; 
  font-weight: none;
  display: inline-block;
  width: 100%;
}


.dott{
  cursor: pointer;
}

.lie{
  padding: 4px 8px;
 
  
}
.lio{
    padding: 4px 8px;
    background: #DDDDDC; 
}



</style>


<br clear="all"> 
<div id="content_wrapper" style="margin-top: 20px;">
<div id="inner">

<div id="Tleft"> 


<div style="position: fixed;border: 1px solid #ccc; width: 198px;"> 
<div style="background: #fff;padding-bottom: 6px; ">
<div style="width: 85%; margin: auto;">
<img class="circle" src="http://truevl.com/test/../profilePics/201811201e5c5d03d70c201bfc469fd794aa58c8.png" height="142" width="142"  > 

<br>
<a href="http://truevl.com/test/Users/profile" class="  userName" style="padding-top: 5px;display: block;text-align: center;"> Ravi Nautiyal  </a>
</div>

<div id="iconL">
  <ul>
  <li> <span class="iconr"> <img class="imgI" src="http://truevl.com/test/assets/img/dash.png"  > </span> <span class="textl"> <a class="samller" href="http://truevl.com/test/dashboard">  Dashboard  </a></span> </li>

<li> <span class="iconr"> <img class="imgI" src="http://truevl.com/test/assets/img/Myprofile.png"  > </span> <span class="textl"> <a class=" samller" href="http://truevl.com/test/Users/profile">  Profile  </a></span> </li>

 <li> <span class="iconr"> <img class="imgI" src="http://truevl.com/test/assets/img/CreatePost.jpg"  > </span> <span class="textl"> <a class=" samller" href="http://truevl.com/test/linkPost/" > Post Link  </a></span> </li>

<li> <span class="iconr"> <img class="imgI" src="http://truevl.com/test/assets/img/Createcomment.png"  > </span> <span class="textl"> <a class=" samller" href="#"  data-toggle="modal" data-target="#statusModal"> Update status  </a></span> </li>  

<li>        

 <span class="iconr"> <img class="imgI" src="http://truevl.com/test/assets/img/promo.png"  >  </span> <span class="textl"> <a class=" samller" href="http://truevl.com/test/promo_request" > Promo Notification </a> <span id="promoCount"> <small>  </small>  </span> </span> </li>  

 <li> <span class="iconr"> 
      <img class="imgI" src="http://truevl.com/test/assets/img/bidr.png"  >
    </span> <span class="textl"> <a class=" samller" href="http://truevl.com/test/bid_requests" > Bid Requests  </a></span> 
      <span id="bidCount"> <small>  </small>  </span> 
</li>

<li> <span class="iconr"> <img class="imgI" src="http://truevl.com/test/assets/img/messn.png"  > </span> <span class="textl"> <a class="samller" href="http://truevl.com/test/Send/messengerp"  > Messenger </a></span> </li>

<li> <span class="iconr"> <img class="imgI" src="http://truevl.com/test/assets/img/wallet.png"  > </span> <span class="textl"> <a class="samller" href="http://truevl.com/test/Wallet"  > Wallet </a></span> </li>

</ul> 
</div>

<div class="cl"> </div>

</div>
<div id="ftr">
  <div style="margin:auto;width: 90%; padding: 6px 0px;">
  <a href="http://truevl.com/test/Privacy"> Privacy </a>
   <a href="http://truevl.com/test/Cookies"> Cookies </a> 
  <a href="http://truevl.com/test/Help"> Help </a>
 <a href="http://truevl.com/test/Terms"> Terms </a> <!-- <a href="Advertisements">  Advertisements </a> -->
<br>
 <a href=""> &copy; 2018 truevl </a>
</div>
</div>

</div>











<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

 </div>
<div id="Tcenter"> 
<div id="all_rows"> 


</div>

 <div id="load_data"></div>
   <div id="load_data_message"></div>

<div id="loading_img" width="100%"> </div>

  <input type="hidden" id="row_no" value="0">
  

  
<!-- <edit status modal> -->

<span id="esmodal"></span>

<!-- <report modal> -->
  <span id="rep_post"></span>
  <span id="rep_mod"></span>
  <span id="rep_admin"></span>
  <span id="msg_pbu"></span>
  
  <span id="status_mod"></span>

 <div  class="modal" data-backdrop="true" id="submitModal" role="dialog" style="">
    <div class="modal-dialog modal-sm">
    
      <!-- Modal content-->
      <div class="modal-content" style=" border-radius: 0px;">
        <div class="modal-header"> 
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title" style="background-color: #61BAE0; color: #fff; font-weight: bold; font-size: 16px;">Report Submitted</h4>
        </div>
       <div class="modal-body" style="padding: 0px;" >
         <div>
          <div  style="width: 20%; margin-left: 40%;">
            <img src="http://truevl.com/test/assets/img/tick.jpg" width="100%" >
          </div>
          <div style="background: #f5f5f5;padding: 15px 0px;"> 
           <span id="suc_msg"></span>
          </div>
        </div>
        </div> 
      </div>
    </div>
  </div>


<div class="modal" id="statusMod" role="dialog"> 
   <div class="modal-dialog" style="width: 40%;">            
    <div class="modal-content out_box" >           
        <div class="modal-body">
          <div>  <span id="post_info">   </span>      </div>
            
          <div>
            <div style="width: 100%;float: left;">
                  <div id="mod_img"> </div>
                  <div id="absPos">
                      <div class="mod-replies"> </div>
                   <p id="modal_status_data"> </p>   

                   <div class="post_footer">
                      <div class="row">
                      <div class="pull-left"> 
                          <span id="vote_mod"></span>
                      </div>

                      <div class="pull-left"> 
                          <span id="spin_mod"></span>
                      </div>

                      <div class="pull-left"> 
                          <span id="cmnt_mod"></span>
                      </div>

                       <div class="pull-left">  
                          <span id="reply_mod"></span>
                       </div>

                       


                      </div>


                  </div>
                      <div class="cl"></div>   
            </div>
                  
         </div>
              <div class="cl"></div>
          
     
    </div>         
   </div> 
</div>
</div>


</div>




<span id="delete_post">
  
<div class="modal" data-backdrop="true" id="deleteModal" role="dialog ">
    <div class="modal-dialog modal-sm">
    
      <!-- Modal content-->
      <div class="modal-content" style=" border-radius: 0px;">
        <div class="modal-header" style="margin: 0px; padding: 0px;">
        
          <h4 class="modal-title">&nbsp;&nbsp; Delete Post</h4>
        </div>
        <div class="modal-body" style="width: 100%; padding: 0px; background-color: #fff; font-size: 14px; padding-bottom: 0;">
         
            <p class="" style="padding: 20px 0px;">   
            &nbsp;&nbsp; Are You sure you want to delete post? </p>
        
            <a href="#" value="yes" id="del_y" class="mbtn-left btn-gray"> Yes </a><a  href="#" value="no" id="del_n" class="mbtn-right"> No </a>
          
        </div>
        
      </div>
      
    </div>
  </div>

</span>

<div class="modal" data-backdrop="true" id="disableModal" role="dialog">
    <div class="modal-dialog modal-sm">
    
      <!-- Modal content-->
      <div class="modal-content" style=" border-radius: 0px;">
        <div class="modal-header" style="margin: 0px; padding: 0px;">
        
          <h4 class="modal-title"> &nbsp;&nbsp; Disable Comments </h4>
        </div>
        <div class="modal-body" style="padding: 0px; ">
         
            <p class="" style="padding: 20px 0px;">   
            &nbsp;&nbsp; Are You sure you want disable comments on &nbsp;&nbsp; this post? </p>
            <a value="yes" id="del_y1" class="mbtn-left" style="width: 48.6%;"> Yes </a>
            <a value="no" id="del_n1" class="mbtn-right"> No </a>
          
        </div>
        
      </div>
      
    </div>
  </div>


  
<div class="modal" data-backdrop="true" id="deleteCmntModal" role="dialog">
    <div class="modal-dialog modal-sm">
    
      <!-- Modal content-->
      <div class="modal-content" style=" border-radius: 0px;">
        <div class="modal-header" style="margin: 0px; padding: 0px;">
        
          <h4 class="modal-title" style="padding-left: 15%;" > Delete Comment</h4>
        </div>
        <div class="modal-body" style="width: 100%; padding: 0px; background-color: #fff; font-size: 14px; padding-bottom: 0;">
         
            <p style="padding: 20px 0px;margin-left: 10%;">
             Are You sure you want to 
           delete Comment? </p>
        
            <a href="#" value="yes" id="del_cy" class="mbtn-left btn-gray" onclick="return false;"> Yes </a><a  href="#" value="no" id="del_cn" class="mbtn-right" onclick="return false;"> No </a>
          
        </div>
        
      </div>
      
    </div>
  </div>




<span id="hide_post">
  
<div  class="modal" data-backdrop="true" id="hideModal" role="dialog" style="">
    <div class="modal-dialog modal-sm">
    
      <!-- Modal content-->
      <div class="modal-content" style=" border-radius: 0px;">
        <div class="modal-header" style="margin: 0px; padding: 0px;">
        
          <h4 class="modal-title" style="padding-left: 15%;">Hide Post</h4>
        </div>
        <div class="modal-body" style="width: 100%; padding: 0px; background-color: #fff; font-size: 14px;" >
         
            <p class="" style="padding: 20px 0px;"> <i class="fa fa-check-circle-o" aria-hidden="true"></i>  &nbsp;&nbsp; Are You sure you want to hide post ? </p>
         
              <a value="yes" id="hid_y" class="mbtn-left btn-gray"> Yes </a><a value="no" id="hid_n" class="mbtn-right"> No </a>
         
        </div>
        
      </div>
      
    </div>
  </div>

</span>





<div id="Tright"> 
<div id="aside"> 


  <div id="s-buyer">
    <h2 class="text-center side_heading pad5"> Linkup Suggestions  </h2> 
<div class="mrl">




<div class="buyer">
      <img valign="top" src="http://truevl.com/test/../profilePics/2018111624b4a1066747a11612f5c0eccce6916e.png " >

      <div class="re">
      <p  class=" unm"> <a valign="top" style="color: rgba(0,0,0,0.7);"  href="http://truevl.com/test/tuser/2231464/Ravi-Nautiyal-">  Ravi Nautiyal  </a>  </p> 

      <p class="text-gray"> Acvtity 0 </p>
      
      <div style="width: 100%;">
      <p style="float: left; width: 60%; color: #797979" class=""> Links 1 </p>
     
     <div class="join jo0"> 

     
     <a  style="color: #fff;font-weight: 400;background: #006097; height: 18px;display: inline-block;" onclick="join(2,4,0); return false;" href="#" class="j0" > Linkup </a> 
         </div> </div> </div>
       </div>
     
<div class="buyer">
      <img valign="top" src="http://truevl.com/test/../profilePics/201811163664d2f90a5d928e4d212dd095fdf0fb.png " >

      <div class="re">
      <p  class=" unm"> <a valign="top" style="color: rgba(0,0,0,0.7);"  href="http://truevl.com/test/tuser/5042763/Anil-Joshi">  Anil Joshi </a>  </p> 

      <p class="text-gray"> Acvtity 0 </p>
      
      <div style="width: 100%;">
      <p style="float: left; width: 60%; color: #797979" class=""> Links 0 </p>
     
     <div class="join jo2"> 

     
     <a  style="color: #fff;font-weight: 400;background: #006097; height: 18px;display: inline-block;" onclick="join(2,3,2); return false;" href="#" class="j2" > Linkup </a> 
         </div> </div> </div>
       </div>
     
   

      
  </div>
</div>

<div id="rp" class="tabcontent">

 <div class="content">  
<div class="aside">
 
<div style="width: 95%">
      <div class="ad_header">
      <div class="ad_head_left"> </div>
        <div class="ad_head_right"> <small>  Advertisement  </small> </div>
      </div>
      <div class="ad_img">
        <img src="http://truevl.com/test/assets/img/side_ad.jpg" width="100%">
      </div>

      <div class="ad-content"> 
        <p> <small> lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
        tempor </small>  </p>
      </div>

      
    </div>

 
</div>
      

 </div>

</div>



</div>
</div>


</div>

</div>
<div class="cl"> </div>

</div>



 
 
 </div>





<div class="modal fade" id="likeModal" role="dialog">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Likes</h4>
        </div>
        <div class="modal-body">
            <div id="postLikes"> </div>
        </div>
       
      </div>
      
    </div>
  </div>


  <div class="modal fade" id="spinModal" role="dialog">
    <div class="modal-dialog modal-sm">
    
      <!-- Modal content-->
      <div class="modal-content" >
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Post Spinned</h4>
        </div>
        <div class="modal-body" style="padding: 0px;" >
         <div>
          <div  style="width: 20%; margin-left: 40%;">
            <img src="http://truevl.com/test/assets/img/tick.jpg" width="100%" >
          </div>
          <div style="background: #f5f5f5;padding: 15px 0px;"> 
           <h2 style="color: #444;text-align: center;">  Your post has been spinned successfully  </h2>
          </div>
        </div>
        </div>      
      </div>
    </div>
  </div>

  <span id="spinners"></span>

    <div class="modal fade" id="painicModal" role="dialog" >
    <div class="modal-dialog modal-sm" >
    
      <!-- Modal content-->
      <div class="modal-content" >
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title" style="padding-left: 15%;" >Painic </h4>
        </div>
        <div class="modal-body" style="padding: 0px;">
          <p style="padding: 10px;"> Some text here  </p> <br>
            <div id="painic_btn"> </div>  
         
        </div>
       
      </div>
      
    </div>
  </div>
  
</div>

<div id="loadera"> 
    <div id="attach_content" >
        <button type="button" class="close" style="background: #fff; color: #000" onclick="removePrev();">&times;</button>
        <div id="atc_imagesa"></div>

        <div id="atc_infoa">
         
          <label id="atc_titlea"></label>
          <label id="atc_urla"></label>
        
          <label id="atc_desca"></label>
          <div class="cl"> </div>
        </div> 
    </div>
</div>
  
 
<div style="position:fixed;bottom:40px;right: 437px; height: 224px;width: 248px;background: rgba(0,0,0,0.6);border:1px solid #ccc;display: none;z-index: 600" id="preview">
  <div style="max-height: 200px; width: 240px;margin: 2px 0px;">
  <img id="output_image" src=""   style="margin: auto;opacity: 0.8;max-height:200px;display: block;max-width: 240px">
  
  </div> 
    <input type="hidden" id="attFile">
   <p class="text-center" id="oup"> 
    
   </p>
  
</div>
  <audio id="notif_audio"><source src="http://truevl.com/test/sounds/notify.ogg" type="audio/ogg"><source src="http://truevl.com/test/sounds/notify.mp3" type="audio/mpeg"><source src="http://truevl.com/test/sounds/notify.wav" type="audio/wav"></audio>

<div style="position:fixed;bottom:0px;right: 437px; height: 333px;width: 250px;z-index: 500;background: #fff;border:1px solid #ccc;display: none;" id="chatBox" >

<div class="chat_header" style="width: 100%; line-height: 35px;text-align: center;background:#006097;" >
	<a class="text-white"  href="#">  
    <span class="chat_title"></span>
   </a> 
	<span class="pull-right"> 
 
		
	

    <a href="#" style="text-decoration: none;" onclick="closechat()" class="text-white" > X &nbsp; </a> </span>	 
</div>

<div class="cbox" id="cbox" style="">

</div>

<input type="hidden" id="uid1" value="">
<input type="hidden" id="uid2" value="">
<input type="hidden" id="fimg">
<input type="hidden" id="imgUrl" name="">
<input type="hidden" id="post_title_ln" name="">
<input type="hidden" id="short_des_link" name="">
  <div align="center" id="atc_loadinga" style="display:none"><img src="http://truevl.com/test/assets/img/load.gif" alt="Loading" /></div>

<div style="width:250px;position:fixed;bottom: 0px">
<textarea placeholder="Type your message here" id="txtSearchProdAssign" ></textarea>

<hr>

<form action="#" enctype="multipart/form-data" id="attachForm" style="display: inline-block;">
   <span class="image-upload">
    <label for="file-input">
         <img src="http://truevl.com/test/assets/img/attach.png" height="16px" width="16px" valign="middle" > 
    </label>
    <input id="file-input" accept="image/*" type="file"/>
    </span>
</form>
    <button id="sendChat" class="btn-primary pull-right" style="margin-right: 5px;">  Send </button>
</div>
</div>


<div style="position:fixed;bottom:0px;right: 152px; height: 35px;width: 278px;z-index: 500;background: #fff;border:1px solid #ccc;" id="contacts" > 
	<h3 style="line-height: 35px;text-align: center;background:#006097;"> <a class="text-white"  href="#" onclick="chats();return false;">  Chat <span id="ocounter"></span> </a> </h3>
  <div style="margin-top: 5px;margin-bottom: 5px;">  
    <form>
    <input type="text" id="serchID" placeholder="Search..." style="width: 80%;margin-left:8%;height: 25px;" onkeyup="searchFriends();" name="">
  </form> 
  </div>
	<div id="list">
	</div>	
</div>

<div class="modal" data-backdrop="true" id="msgAlert" role="dialog" style="width: 20%;margin: 150px auto; ">
    <div class="modal-dialog">
      <!-- Modal content-->
      <div class="modal-content" style=" border-radius: 0px;">
        <div class="modal-header" style="margin: 0px; padding: 0px;width: 46%;">
           <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title" style="padding-left: 10px" >Alert</h4>
        </div>
        <div class="modal-body" style="width: 100%; padding: 0px; background-color: #fff; font-size: 14px; padding-bottom: 0;">
            <p class="" style="padding: 20px 5px;"> 
            &nbsp;&nbsp; Sorry You cant send message right now </p>
        </div>
      </div>
    </div>
</div>


 <div class="modal fade" id="imgModal" role="dialog">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Image Preview</h4>
        </div>
        <div class="modal-body">
          <div id="prev"> </div>
        </div>
       
      </div>
      
    </div>
  </div>

<div id="blockModal"> </div>

<script src="http://truevl.com/test/node_modules/socket.io/node_modules/socket.io-client/socket.io.js"></script>

<script type="text/javascript">
    function chats(){
    getOnlineUsers();
    var height=$("#contacts").height();
    if(height==35){
    $("#contacts").css({"height": "333px"});
    }
    else if(height==333){
      $("#contacts").css({"height": "35px"});
    }
    
  }

  function oneonone(uid1,uid2,name,otp,img){ 
    var nm=name.replace(" ", "-");
    $("#preview").hide();
    $("#attach_content").hide();
     $('.cbox').scrollTop($('.cbox')[0].scrollHeight);
     $.ajax({
            type: "POST",
            url: "http://truevl.com/test/Send/read",
            data: {uid1: uid1},
            success: function(){
               
                $(".tmsgsn").html('').css("display","none");
             
            }
     });
    $(".chat_title").html("Chat with <a style='color: #fff;display: inline;' href='http://truevl.com/test/tuser/"+otp+uid2+"/"+nm+"'>"+name+"</a>");
    $("#uid1").attr("value", uid1);
    $("#uid2").attr("value", uid2);
    $("#fimg").attr("value",'../profilePics/201811201e5c5d03d70c201bfc469fd794aa58c8.png');

    $.ajax({
      url: "http://truevl.com/test/Send/messages",
      data: { uid1: uid1, uid2: uid2, img: img },
      type: "POST",
      success: function(response){
            
            $("#cbox").html(response);
      } 
    });
    $("#chatBox").show();
  }

  function closechat(){
      $("#chatBox").hide();
      $("#preview").hide();
      $("#attach_content").hide();
      $("#contacts").show();
  }

  function getOnlineUsers(){
    $.ajax({
        url: "http://truevl.com/test/users/getOnlineUsers/2",
        type: "POST",
        data: {},
        success: function(response){
          
          $("#list").html(response);
        }
  });
  }
   
  $(document).ready(function(){
    $('#txtSearchProdAssign').on("input keypress",function (e) {
      var key = e.which;
      var ipstring=$('#txtSearchProdAssign').val(); 
      if(key!=13){
      $.ajax({
            type: "POST",
            url: "http://truevl.com/test/Send/read",
            data: {uid1: $("#uid1").val()},
            success: function(){
              $(".tmsgsn").html('').css("display","none");
            }
     });
    var bool=isValidURL(ipstring); 
    if(bool){
      
      generatePreview(ipstring);
    }    
    }
  });


    $("#sendChat").click(function(){  
        var ipstring=$('#txtSearchProdAssign').val(); 
        $("#attach_content").css("display","none");
        $("#txtSearchProdAssign").val("");
        if(ipstring.length > 0){
        $.ajax({
            type: "POST",
            url: "http://truevl.com/test/Send/submit",
            data: {message : ipstring, uid1: $("#uid1").val(), uid2: $("#uid2").val(),imgUrl:$("#imgUrl").val(),post_title:$("#post_title_ln").val(),short_des:$("#short_des_link").val()  },
            success: function(data){
             
                if(data=="block"){
                $("#blockModal").html(' <div class="modal fade" id="blckModal" role="dialog">    <div class="modal-dialog modal-sm">          <!-- Modal content-->      <div class="modal-content">        <div class="modal-header">          <button type="button" class="close" data-dismiss="modal">&times;</button>          <h4 class="modal-title">Oops</h4>        </div>        <div class="modal-body">          <p>sorry you cannot sent messages to this person</p>        </div>          </div>          </div>  </div>  </div>');
                
                $("#blckModal").modal("show");
                }  
                else{
                data=$.parseJSON(data);

              if(data.success==true){

                var socket = io.connect( 'http://'+window.location.hostname+':3000', { rememberTransport: false, transports: ['WebSocket', 'Flash Socket', 'AJAX long-polling'] } );
                socket.emit('new_count_message', { 
                  new_count_message: data.new_count_message,
                  sid: data.sid
                });
                socket.emit('new_message', {
                   message: data.message,
                   uid1: data.uid1,
                   uid2: data.uid2,
                   fimg: $("#fimg").val(),
                   imgUrl:$("#imgUrl").val(),
                   post_title:$("#post_title_ln").val(),
                   short_des:$("#short_des_link").val()
                });

              }

               else if(data.success == false){
                // alert("Sorry!You can't send message"); 
                $("#msgAlert").modal("show");
              }

              else if(data.success == false){
                $("#txtSearchProdAssign").val(data.message);
                }
              document.getElementById('cbox').scrollTop = document.getElementById('cbox').scrollHeight-50;
            }
            } ,error: function(xhr, status, error) {
              // alert(error);
            },

        });
    }
      else{
            return false;

      }
     });
    var files;
    $("#file-input").on("change", attachFile);

    function attachFile(input) {
        if (input.target.files && input.target.files[0]) {
            var reader = new FileReader();
            reader.onload = function (e) {
            $("#preview").css("display", "block"); 
            $('#output_image').attr('src', e.target.result);
          }
            
            reader.readAsDataURL(input.target.files[0]);
            files= input.target.files;
              
              var data = new FormData();
              $.each(files, function(key, value)
              {
                  data.append(key, value);
              });
              
             
              $.ajax({
              url: 'http://truevl.com/test/Send/fileupload/',
              type: 'POST',
              data: data,
              cache: false,
              dataType: 'json',
              processData: false, 
              contentType: false, 
              beforeSend: function(response){
                $("#oup").html('<img src="http://truevl.com/test/assets/img/load.gif" alt="Loading" />');
              },
              success: function(response)
              { 
                var img=response.img;
                $("#oup").html('<a class="text-white" href="#" onclick="cancelAtt()" style="color: #fff !important; "> Cancel </a> &nbsp;&nbsp;&nbsp; <a class="text-white" href="#" onclick="Send(\''+img+'\')" style="color: #fff !important; "> Send  </a>')
              }
    });


            
        }
    }

});

    function generatePreview(ipstring){
       $('#atc_loadinga').show();
       
        $.ajax({

              url: "http://truevl.com/test/Post/fetchPreview/",
              data: { url: ipstring },
              type: "post",
              success:  function(response){
               
                $('#atc_loadinga').hide();
                $('#atc_titlea').html(response.title);
                response.description=response.description.substring(0, 90);
                $('#atc_desca').html(response.description);
                $('#atc_total_images').html(response.total_images);
                $('#atc_imagesa').html(' ');
                  
                   if(response.images[0].attributes)
                     {  imgUrl=response.images[0].attributes.src; 
                        chkImg=checkURL(imgUrl)
                        if(chkImg!=1){
                          if(response.images[1].attributes){
                           imgUrl=response.images[1].attributes.src; 
                           chkImg=checkURL(imgUrl)
                             if(chkImg!=1){
                              if(response.images[2].attributes){
                                 imgUrl=response.images[2].attributes.src; 
                                 chkImg=checkURL(imgUrl)
                                 if(chkImg!=1){
                                  if(response.images[3].attributes){
                                     imgUrl=response.images[3].attributes.src; 
                                        chkImg=checkURL(imgUrl)
                                       if(chkImg!=1){
                                        if(response.images[3].attributes){
                                           imgUrl=response.images[3].attributes.src; 
                                } 
                              }
                                } 
                              }
                            } 
                          }


                          }
                        }

                     }

                    
                   else
                      { imgUrl=response.images; }

                    
                  var RegExp = /\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;
                    
                  var str = imgUrl.split("?");
                  imgUrl = str[0];

                  if(RegExp.test(imgUrl)){
                      var x=1;
                  }
                  else { x=0; }

                   chkImg=checkURL(imgUrl);

                  if(chkImg==1){
                      x=1;
                  }
                  else{
                     x=0;
                  }

                  if (x==1)
                  {
                 
                    
                      $('#atc_imagesa').append('<img src="'+imgUrl+'" width="100%" id="">');
                      $("#prevImg").attr("src", imgUrl);
                        imgUrl=imgUrl.replace(/%2F/gi, "-2F");
                        $("#imgs").attr("value", imgUrl); 
                         
                  }

                 
                  $("#imgUrl").attr("value",imgUrl);
                  $("#post_title_ln").attr("value", response.title );
                  $("#short_des_link").attr("value", response.description );    
                  $("#attach_content").show();
                       
            }
         
      });
      }
   
    

    function checkURL(url) {
      if(url.match(/\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?.(jpeg|jpg|gif|png)$/) != null){
        return 1;
      }
      else{
        return 0;
      }
    }

  function Send(img){
     var uid2=$("#uid2").val();
     $.ajax({
       url: "http://truevl.com/test/Send/SendFile",
       data: {uid2: uid2, img: img},
       type: "POST",
       success: function(response){
          var socket = io.connect( 'http://'+window.location.hostname+':3000' );
          
                socket.emit('send_attachment', { 
                  attachment: img,
                  uid1: 2,
                  fimg: $("#fimg").val()
                });
            $("#preview").css("display", "none");
          
       }
     })
  }

  function cancelAtt(){
    $("#preview").css("display", "none");
    $("#output_image").attr("src", "");
  }
  
  function isValidURL(url)
  {
    var RegExp = /(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;
    
    if(RegExp.test(url)){
      return true;
    }else{
      return false;
    }
  }

   var socket = io.connect('http://'+window.location.hostname+':3000');
    
  socket.on('new_count_message', function( data ) {
        if(data.sid==2){ 
        $( ".tmsgsn" ).html( data.new_count_message ).css("display", "block");
        $('#notif_audio')[0].play();
        }
      

  });

  socket.on( 'update_count_message', function( data ) {
     
      $( "#new_count_message" ).html( data.update_count_message );
    
  });

  socket.on('new_message', function( data ) {
     
      var uid1=data.uid1;
      var uid2=data.uid2;
      var img= data.fimg;
      var imgUrl=data.imgUrl;
      var post_title=data.post_title;
      var short_des=data.short_des;
      var mdata='';
      var ldata='';
      
      if(isValidURL(data.message)){
           data.message=data.message.replace(/\s/g,'') 
           msg='<a href="'+data.message+'" target="_blank" > '+data.message+' </a>';
        }
        else{
          msg=data.message;
        }

      
        
      if(uid1==2){
       if(post_title){
        ldata='<span style="display: inline-block;float: left;max-width: 100%;border-radius: 8px;background: #f5f5f5;float: right; padding: 0px 6px;word-wrap: break-word;margin-top: 3px;">          <img src="'+imgUrl+'" width="20%" valign="top" >           <span style="width: 50%;font-size: 12px;"><b> '+post_title.substring(0,20)+' </b>          </span>           <p> '+short_des.substring(0,50)+' </p>           </span> ';
      } 
        mdata+= '<div style="margin-right: 10px;margin-top: 3px; width: 70%;float: right;text-align: right;font-size: 13px; color: #333"> <span style="display: inline-block;float: left;max-width: 90%;border-radius: 8px;background: #f5f5f5;float: right; padding: 0px 6px;word-wrap: break-word;"> '+msg+' </span> '+ldata+' </div>';

      }
      else{
        
        if(post_title){
        ldata='<span style="display: inline-block;float: left;max-width: 100%;border-radius: 8px;background: #e1eaf3;float: right; padding: 0px 6px;word-wrap: break-word;margin-top: 3px;">          <img src="'+imgUrl+'" width="20%" valign="top" >           <span style="width: 50%;font-size: 12px;"><b> '+post_title+' </b>          </span>           <p> '+short_des+' </p>           </span> ';
      } 
        mdata+= '<div style="margin-left: 10px;margin-top: 3px; width: 70%;float: left;font-size: 13px; color: #333">              <span style="display: inline-block;float: left;width: 11%;">  <img src="http://truevl.com/test/'+img+'" valign="bottom" width="100%" style="border-radius: 50px;"  > </span>              <span style="display: inline-block;float: left;max-width: 79%;border-radius: 8px;background: #e1eaf3; padding: 0px 6px; margin-left: 5px;word-wrap: break-word;"> '+msg+' </span>     '+ldata+'     </div>';
      }
      $("#cbox").append(mdata);
      document.getElementById('cbox').scrollTop = document.getElementById('cbox').scrollHeight;
  });

  socket.on('send_attachment', function( data ) {
   
      var uid1=data.uid1;
      var attachment=data.attachment;
      var img= data.fimg
      var mdata;
      mdata='';
      if(uid1==2){
      
        mdata+= '<div style="margin-right: 10px;margin-top: 3px; width: 70%;float: right;text-align: right;font-size: 13px; color: #333"> <a href="#" onclick="imgModal(\''+data.attachment+'\')" >  <img src="../attachments/'+data.attachment+'" width="25%"> </a>    </div>';

      }
      else{
         
        mdata+= '<div style="margin-left: 10px;margin-top: 3px; width: 70%;float: left;font-size: 13px; color: #333">              <span style="display: inline-block;float: left;width: 11%;">  <img src="http://truevl.com/test/'+img+'" valign="bottom" width="100%" style="border-radius: 50px;"  > </span>    <a href="#" onclick="imgModal(\''+data.attachment+'\')" >          <img src="http://truevl.com/test/../attachments/'+data.attachment+'" width="25%">  </a>        </div>';
      }
    
      $("#cbox").append(mdata);
        
});

 function removePrev(){
    $("#txtSearchProdAssign").val("");
    $("#attach_content").css("display", "none");
  }   
 
  function imgModal(img){
    var newheight = $(window).height()*0.8;   
    $("#prev").css("height",newheight);
    $("#prev").html("<img src='http://truevl.com/test/"+img+"' >")
    $("#imgModal").modal("show");
  }  

  function searchFriends(){
    $.ajax({
      url: "http://truevl.com/test/Send/searchFriends",
      type: "post",
      data: {nm: $("#serchID").val() },
      beforeSend: function(){
          $("#list").html("<p class='text-center'>Searching...</p>");
      },
      success:function(response){

          $("#list").html(response);
      }
    });
  } 
</script>


<style type="text/css">
 

#prev{
   width:100%;
    display:flex;
    justify-content:center;
    align-items:center;
    overflow:hidden;
    background: #000;
}

#prev img{
  flex-shrink:0;
    -webkit-flex-shrink: 0;
    max-width:50%;
    max-height:70%;
}

.cbox{
  height: 210px;overflow-y:scroll;overflow-x: hidden;position: relative;  
} 

.image-upload > input
{
    display: none;
}

.image-upload img
{
    display: inline-block;
    width: 20px;
    height: 20px;
    cursor: pointer;
}


  #attach_content{border:1px solid #ccc;padding:0px;padding-top:5px;position:fixed;bottom:40px;right: 437px; width: 248px;margin-top: 10px;
    z-index: 700;float: left;background: #fff;display: none;
  }
  #atc_imagesa {overflow:hidden;float:left; width: 35px;padding: 0px;margin-right: 10px;margin-left: 3px;margin-top: 5px;}
  #atc_infoa {width:200px;float:left;text-align:left;}
  #atc_titlea {font-size:12px;display:block;}
  #atc_urla {font-size:10px;display:block;}
  #atc_desca {font-size:10px;}
  #atc_total_image_nav{float:left;padding-left:0px}
  #atc_total_images_info{float:left;padding:0 0px;font-size:12px;}
</style>





<div class="modal fade" id="newBlog" role="dialog">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content" style="width: 50%;margin-left: 20%;">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Posted</h4>
        </div>
        <div class="modal-body" style="padding: 0px;" >
         <div>
          <div  style="width: 20%; margin-left: 40%;">
            <img src="http://truevl.com/test/assets/img/tick.jpg" width="100%" >
          </div>
          <div style="background: #f5f5f5;padding: 15px 0px;"> 
           <h2 style="color: #444;text-align: center;"> Your post has been successfully submitted  </h2>
          </div>
        </div>
        </div>
       
      </div>
      
    </div>
  </div>



<div class="sentM"></div>
<div class="cantM"></div>

<div id="unf"> </div>
<div id="blk"> </div>

</body>
</html>

<link rel="stylesheet" type="text/css" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>


<script type="text/javascript">
  
$(document).click(function() {
  for(i=0; i<=1000; i++){
     $(".po"+i).hide();
  }
});

function ab(i){
$(document).on('click', function(e) {
    if ( $(e.target).closest("#lnk"+i).length ) {
        $(".po"+i).show();
    }else if ( ! $(e.target).closest(".po"+i).length ) {
        $(".po"+i).hide();
    }
});

}

function comOpt(i) {
    $(document).on('click', function(e) {
    if ( $(e.target).closest("#lnk"+i).length ) {
        $(".co"+i).css("display", "inline-block");
    }else if ( ! $(e.target).closest(".co"+i).length ) {
        $(".co"+i).hide();
    }
});
}


  function seemore(key, data){
      $("#seem"+key).html(data);
  } 
  
  function editPost(pid, key){
    var desc=$("#hidesc"+key).val();

    $("#seem"+key).html("<textarea onkeyup='editNow("+key+","+pid+");' style='padding: 3px;border: 1px solid #ddd;' id='editPost"+key+"'>"+desc+"</textarea><div id='editPostBtn"+key+"'></div>").show();
      var input = $("#editPost"+key);
      var len = input.val().length;
      input[0].focus();
      input[0].setSelectionRange(len, len);
  }

  function editNow(key,pid){
    $("#editPost"+key)[0].selectionStart = $("#editPost"+key)[0].selectionEnd = $("#editPost"+key).value.length;
    $("#editPostBtn"+key).html("<input type='button' class='btn-primary' value='Update' style='width: 12%; height: 24px;margin-bottom: 5px;' onclick='editPostNow("+key+","+pid+")'>");
  }

  function editPostNow(key,pid){
    var content=$("#editPost"+key).val();
    $.ajax({
      url: "http://truevl.com/test/Feeds/editPost",
      type: "post",
      data: {content: content, pid: pid},
      success: function(response){
        $("#seem"+key).html(response);
        $("#hidesc"+key).attr("value", response);
        $("#pstedit"+key).html("Post edited successfully").css({"color": "#ccc", "margin":"5px 0px", "border":"1px solid #ccc", "width": "98%","padding":"0px 3px"}).fadeOut(2000);
      }
    });
  }

  
function ask(pid, key){
      $("#deleteModal").modal('show');  
      $("#del_y").click(function(){
          $.ajax({
            url: 'http://truevl.com/test/Feeds/delete_post/'+pid,
            type: 'POST', 
            cache: false,
            contentType: false,
            processData: false,
           
            success: function(response){
            if(response==1)
              {
                $("#deleteModal").modal('hide');
                $(".post"+key).html("<h3> Post deleted </h3> ").fadeOut(2000);
            }
            else{
               //console.log(response);
            }
            }
            });
      });
    
       $("#del_n").click(function(){
            $("#deleteModal").modal('hide');  
       });
   
  
}

  function disableComments(pid, key){

     $("#disableModal").modal('show'); 
    
      $("#del_y1").click(function(){
          $.ajax({
            url: 'http://truevl.com/test/Feeds/disableComments/'+pid,
            type: 'POST', 
            cache: false,
            contentType: false,
            processData: false,
           
            success: function(response){
            if(response==1)
              {
                $("#disableModal").modal('hide');
                 $("#loadcomments"+key).html('<div class="pcomments'+key+'" style="width: 100%;float: left;position:relative; margin-bottom: 10px;">        <p style="background: #f5f5f5;color: #444;border: 1px solid #afafaf;text-align: center; font-weight:bold; width: 97%;padding: 3px;"> Comments are disabled on this post</p>          </div>');

               
                 $(".dc"+key).attr("onclick", "enableComments("+pid+", "+key+");return false;").html("<i class='fa fa-check'> </i> Enable comments");
               
            }
            else{
               console.log(response);
            }
            }
            });
      });
    
       $("#del_n1").click(function(){
            $("#disableModal").modal('hide');  
       });
  }

  function enableComments(pid, key){
     
      $.ajax({
        url: "http://truevl.com/test/Feeds/enableComments",
        type: "post",
        data: {pid:pid},
        success: function(response){

         
          $(".dc"+key).attr("onclick", "disableComments("+pid+", "+key+");return false;").html("<i class='fa fa-ban'> </i> Disable comments on this post");
          user_comments(pid, key);
        }
      });
  }

function join(uid,fid, key){
   $.ajax({

    
    url: 'http://truevl.com/test/Users/addFriend/'+uid+'/'+fid,
    type: 'POST', 
    cache: false,
    contentType: false,
    processData: false,
   
    success: function(response){
      console.log(response);
      if(response==1)
      {
     
       $(".j"+key).css({"background": "#fff", "border": "1px solid #ccc", "color": "#ccc"});
       $(".j"+key).html("Sent");
    
    } 
    if(response==0){
        
         $('.cantM').html('<div id="cantModal" class="modal fade" role="dialog">  <div class="modal-dialog">    <!-- Modal content-->    <div class="modal-content">      <div class="modal-header">        <button type="button" class="close" data-dismiss="modal">&times;</button>        <h4 class="modal-title">Oops!</h4>      </div>      <div class="modal-body">        <p>Sorry! You can&#0039;t sent request to this person </p>      </div>      <div class="modal-footer">        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>      </div>    </div>  </div>');        
          $("#cantModal").modal("show");
       }
    
    if(response==2){
        $('.sentM').html('<div id="sentModal" class="modal fade" role="dialog">  <div class="modal-dialog modal-sm">     <div class="modal-content">      <div class="modal-header">        <button type="button" class="close" data-dismiss="modal">&times;</button>        <h4 class="modal-title">Oops!</h4>      </div>      <div class="modal-body">        <p>Request already sent </p>      </div> </div>  </div>');  
        $("#sentModal").modal("show");
    }  

    if(response==9){
        $('.sentM').html('<div id="sentModal" class="modal fade" role="dialog">  <div class="modal-dialog modal-sm">     <div class="modal-content">      <div class="modal-header">        <button type="button" class="close" data-dismiss="modal">&times;</button>        <h4 class="modal-title">Oops!</h4>      </div>      <div class="modal-body">        <p>Sorry You cannot send more than 15 requests </p>      </div> </div>  </div>');  
        $("#sentModal").modal("show");
    }  
    } 
  });
}

function like(pid, uid, key,flag){
    var d= $(".nvotes"+key).html();
    d=d.trim();
    if(d==""){
      d=0;
    }
    $.ajax({
    url: 'http://truevl.com/test/Feeds/likePost/'+pid+'/'+uid,
    type: 'POST', 
    cache: false,
    contentType: false,
    processData: false,
    beforeSend: function(){
      if(flag==1){
        d=parseInt(d)+1;
        $(".lk"+key).css("font-weight", "700");
        if(d==1){
          $(".nvotes"+key).html(d);
          $(".nvotess"+key).html(" Vote");
        }
        else if(d > 1){
          $(".nvotes"+key).html(d);
          $(".nvotess"+key).html(" Votes");
        }
        else{
          $(".nvotes"+key).html("");
          $(".nvotess"+key).html("");
        }

        $(".lk"+key).attr("onclick", "like("+pid+","+ uid+","+ key+", 2);return false;");
      }
      if(flag==2){
        d=d-1;
  
        $(".lk"+key).css("font-weight", "400");
         if(d==1){
          $(".nvotes"+key).html(d);
          $(".nvotess"+key).html(" Vote");
        }
        else if(d >1){
          $(".nvotes"+key).html(d);
          $(".nvotess"+key).html(" Votes");
        }
        else{
          $(".nvotes"+key).html("");
          $(".nvotess"+key).html("");
        }

        $(".lk"+key).attr("onclick", "like("+pid+","+ uid+","+ key+",1);return false;");
      }
      
    },
    success: function(response){  
        
  
    } 
  });
}

function spin(pid, uid, key){ 
  
    $.ajax({
    url: 'http://truevl.com/test/Feeds/spinPost/'+pid+'/'+uid,
    type: 'POST', 
    cache: false,
    contentType: false,
    processData: false,
   
    success: function(response){
        $("#spinModal").modal('show');
      
    }
    
    
  });
}

  
  function spinners(pid,key){
    
    $.ajax({
      url: "http://truevl.com/test/Feeds/spinners",
      data: {pid: pid},
      type: "post",
      success: function(response){
        $("#spinners").html('<div class="modal fade" id="spinnersModal'+key+'" role="dialog">    <div class="modal-dialog modal-sm">          <!-- Modal content-->      <div class="modal-content">        <div class="modal-header">          <button type="button" class="close" data-dismiss="modal">&times;</button>          <h4 class="modal-title"> Spinned By </h4>        </div>        <div class="modal-body" style="padding:0px; ">  '+response+'   </p>        </div>                </div>  </div>');  

      $("#spinnersModal"+key).modal("show");
      }
    });
   
  }

function painic(pid, uid, key){
  
    $("#painicModal").modal('show');   

    $("#painic_btn").html('<a class="mbtn-left btn-gray"  onclick="painicPost('+pid+', '+uid+', '+key+')" > Yes </a><a href="#" class="mbtn-right"  data-dismiss="modal" > Cancel </a>  ');

   
}

function painicPost(pid, uid,key){
     $.ajax({ 
        url: 'http://truevl.com/test/Feeds/painicPost/'+pid+'/'+uid,
        type: 'POST', 
        cache: false,
        contentType: false,
        processData: false,
        success: function(response){
          $(".post"+key).hide();
             $("#painicModal").modal('hide');   
        }     
  });
}


</script>

 <script type="text/javascript">

  

   function hide_post(id, key){


        $("#hideModal").modal('show');  

      $("#hid_y").click(function(){
              $.ajax({
         url: "http://truevl.com/test/Feeds/hide_post/",
         data: {id: id },
         method: "post",
         success: function(response){
           $(".post"+key).hide();
             $("#hideModal").modal('hide');  
            
         }
      });  

    });
    
       $("#hid_n").click(function(){
            $("#hideModal").modal('hide');  
       });
   

     
      
     
     
    }



    function report_post(pid, uid, pbu, key){


      $("#rep_post").html('<div  class="modal" data-backdrop="true" id="reportModal" role="dialog" style="width: 265px;margin: 0px auto; ">    <div class="modal-dialog">            <div class="modal-content" style=" border-radius: 0px;">        <div class="modal-header" style="margin: 0px; padding: 0px;width: 47%;">   <button type="button" class="close" data-dismiss="modal">&times;</button>                <h4 class="modal-title" style="background-color: #61BAE0; color: #fff; font-weight: bold; font-size: 16px; padding: 5px 5px;">Report Post</h4>     </div>        <div class="modal-body" style="width: 100%; padding: 0px; background-color: #fff; font-size: 14px;">               <ul style="list-style: none;">          <li class="lie"> <strong>  Why are you reporting this post? </strong> </li>            <li class="lio"> <a style="width: 42%;float: left;" class="text-black" href=""> Infringes my rights  </a> <span><input type="radio" name="ir" style=" height: 11px;" onclick="rights('+pid+')">  </span>  </li>              <SPAN CLASS="CL"> </SPAN>            <li class="lie"> <a style="width: 42%;float: left;" class="text-black" href="#" > Its not Interesting or fake content  </a> <span><input type="radio" name="ir" onclick=\'(op2(2,"'+pid+'", "'+uid+'", "'+pbu+'"))\' style="height: 11px;">  </span>  </li>            <li class="lio"> <a style="width: 42%;float: left;" class="text-black" href="#" > Nudity or Violence </a> <span><input type="radio" name="ir" style="height: 11px;" onclick=\'(op2(3,"'+pid+'", "'+uid+'", "'+pbu+'"))\'>  </span>  </li>            <li class="lie"> <a style="width: 42%;float: left;" class="text-black" href="#"> Its spam </a> <span><input type="radio" onclick=\'(op2(4,"'+pid+'", "'+uid+'", "'+pbu+'",'+key+'))\' name="ir"  style="height: 11px;">  </span> </li>            <li class="lio"> <a style="width: 42%;float: left;" class="text-black" href="#"> Promotes terrorism </a><span><input type="radio" name="ir" style="height: 11px;" onclick=\'(op2(4,"'+pid+'", "'+uid+'", "'+pbu+'"))\'>  </span>  </li>            <li class="lie"> <a style="width: 42%;float: left;" class="text-black" href="#"> Child abuse  </a>  <span><input type="radio" name="ir" style="height: 11px;" onclick=\'(op2(6,"'+pid+'", "'+uid+'", "'+pbu+'"))\'>  </span>  </li>           <li class="lio"> <a  style="width: 42%;float: left;" class="text-black" href="#">  Harmful dangers acts  </a><span><input type="radio" name="ir" style="height: 11px;" onclick=\'(op2(7,"'+pid+'", "'+uid+'", "'+pbu+'"))\'>  </span>  </li>            <li class="lie"> <a style="width: 42%;float: left;" class="text-black" href="#">  Hateful content </a> <span><input type="radio" name="ir" style="height: 11px;" onclick=\'(op2(8,"'+pid+'", "'+uid+'", "'+pbu+'"))\'>  </span>   </li>                              </ul>        </div>              </div>          </div>  </div>');    


        $("#reportModal").modal('show');      
       

    }



    function op2(opt, pid, uid, pbu, key){

     
          $("#reportModal").modal('hide');
                

               $("#rep_mod").html(' <div  class="modal" data-backdrop="true" id="option2" role="dialog" style="width: 283px;margin: 0px auto; ">    <div class="modal-dialog">                <div class="modal-content" style=" border-radius: 0px;">        <div class="modal-header" style="margin: 0px; padding: 0px;width:50%;">    <button type="button" class="close" data-dismiss="modal">&times;</button>                <h4 class="modal-title" style="background-color: #61BAE0; color: #fff; font-weight: bold; font-size: 16px; padding: 5px 5px;"> What you can do </h4>        </div>        <div class="modal-body" style="width: 100%; padding: 0px; background-color: #fff; font-size: 14px;">                          <ul style="list-style: none;">     <span id="rspm">  </span>                <li class="lio"> <a style="width: 44%;float: left;" class="text-black" href="#" "> Report Admin  </a> <span><input type="radio" onclick="report_admin('+opt+','+pid+','+uid+','+key+' )" name="ir" style=" height: 11px;">  </span>  </li>              <SPAN CLASS="CL"> </SPAN>            <li class="lie"> <a style="width: 44%;float: left;" class="text-black" href="#" > Hide Post   </a> <span><input type="radio" onclick=" hide_post('+pid+')" name="ir" style="height: 11px;">  </span>  </li>                    <li class="lio"> <a style="width: 44%;float: left;" class="text-black" href="#"> Disconnect  '+pbu+' </a> <span><input type="radio" onclick="unfmodal('+uid+');" name="ir" style="height: 11px;">  </span> </li>                      <li class="lie"> <a style="width: 44%;float: left;" class="text-black" href="#"> Block  '+pbu+'  </a>  <span><input onclick="blkmodal('+uid+');" type="radio" name="ir" style="height: 11px;">  </span>  </li>                                                  </ul>        </div>              </div>          </div>  </div>');
                if(opt==4){
                  $("#rspm").html('<li class="lie"> <a style="width: 44%;float: left;" class="text-black" href="#" "> Mark as Spam  </a> <span><input type="radio" onclick="mark_spam('+opt+','+pid+','+uid+', '+key+' );return false;" name="ir" style=" height: 11px;">  </span>  </li> ');
                }

          $("#option2").modal('show');

    }


    function report_admin(opt, pid, uid, key){
          
          $("#option2").modal('hide');
          $("#rep_admin").html('<div  class="modal" data-backdrop="true" id="report_admin" role="dialog" style="width: 290px;margin: 0px auto; ">    <div class="modal-dialog">                <div class="modal-content" style=" border-radius: 0px;">        <div class="modal-header" style="margin: 0px; padding: 0px;width: 51.4%;">     <button type="button" class="close" data-dismiss="modal">&times;</button>                <h4 class="modal-title" style="background-color: #61BAE0; color: #fff; font-weight: bold; font-size: 16px;  padding: 5px 5px;"> Report Admin </h4>        </div>        <div class="modal-body" style="width: 100%; padding: 0px; background-color: #fff; font-size: 14px;">   <span id="rep_ad_msg"> </span>   <br>  <textarea name="admin_msg" id="admin_msg" style="width: 44%; border: 1px solid #ccc; resize: none; margin-left: 15px;" maxlength="450" placeholder="type min 100 characters" rows="6"></textarea>     <br> <input type="button" id="rep_admin_btn" value="Submit" class="btn"  style="margin-left:15px; padding-top: 0px; width: 16%; height: 20px; line-height:20px; font-size: 13px;"> <br>  <br>    </div>              </div>          </div>  </div>');

          $("#report_admin").modal('show');

          $("#rep_admin_btn").click(function(){

                if($("#admin_msg").val().length < 100){
                  $("#rep_ad_msg").html("<br><div style='margin-left: 15px;'>please write your report in atleast 100 character </div>").css({"color":"red", "font-size": "12px", "font-weight" : "bold"});
                  return false;
                }
                if($("#admin_msg").val().length > 450){
                  $("#rep_ad_msg").html("<br><div style='margin-left: 15px;'> Max 450 character allowed </div>").css({"color":"red", "font-size": "12px", "font-weight" : "bold"});
                  return false;
                }
                var data = {opt :opt, pid: pid, uid: uid, action: 1, msg: $("#admin_msg").val()};
                $.ajax({
                    url: "http://truevl.com/test/settings/report_admin",
                    data: data,
                    method: "post",
                    datatype: "json",
                    success: function(response){
                       $("#report_admin").modal('hide');
                      if(response==1){
                       $("#suc_msg").html("<h2 style='text-align: center'>Report submited </h2>").css("color", "black");
                        $("#submitModal").modal('show');
                      
                        $(".post"+key).hide();
                      }

                      if(response==2){
                         $("#suc_msg").html("<h2 style='text-align: center'>Already Reported</h2>").css("color", "black");;
                         $("#submitModal").modal('show');

                      }
                    }
                });



          });

           $("#admin_msg").keyup(function(){

                if($("#admin_msg").val().length > 450){
                  $("#rep_ad_msg").html("<br><div style='margin-left: 15px;'> Max 450 character allowed </div>").css({"color":"red", "font-size": "12px", "font-weight" : "bold"});
                  return false;
                }
            });
    }


    function disconnect(uid){
          
          $.ajax({
            url: "http://truevl.com/test/settings/disconnect/"+uid,
            method: "post",
            success: function(response){
             location.reload();

            }


          });


    }

     function block(uid){
          
          $.ajax({
            url: "http://truevl.com/test/settings/block/"+uid,
            method: "post",
            success: function(response){
               location.reload();

            }


          });


    }

     function msg_rep(pid,uid,pbu){
          
          $("#option2").modal('hide');
          $("#msg_pbu").html('<div  class="modal" data-backdrop="true" id="msg_pb" role="dialog" style="width: 290px;margin: 150px auto; ">    <div class="modal-dialog">                <div class="modal-content" style=" border-radius: 0px;">        <div class="modal-header" style="margin: 0px; padding: 0px;">                    <h4 class="modal-title" style="background-color: #61BAE0; color: #fff; font-weight: bold; font-size: 16px; padding: 5px 5px;"> Message '+pbu+' </h4>        </div>        <div class="modal-body" style="width: 100%; padding: 0px; background-color: #fff; font-size: 14px;">   <span id="rep_ad_msg"> </span>   <br>  <textarea name="pb_msg" id="pb_msg" style="width: 44%; border: 1px solid #ccc; resize: none; margin-left: 15px;" maxlength="450" placeholder="type your message" rows="6"></textarea>     <br> <input type="button" id="rep_pb_btn" value="Submit" class="btn"  style="margin-left:15px; padding-top: 0px; width: 16%; height: 20px; line-height:20px; font-size: 13px;"> <br>  <br>    </div>              </div>          </div>  </div>');

          $("#msg_pb").modal('show');

          $("#rep_pb_btn").click(function(){

                               
                if($("#pb_msg").val().length > 450){
                  $("#rep_ad_msg").html("<br><div style='margin-left: 15px;'> Max 450 character allowed </div>").css({"color":"red", "font-size": "12px", "font-weight" : "bold"});
                  return false;
                }
                var data = { pid: pid, uid: uid, action: 5, msg: $("#pb_msg").val()};
               
                $.ajax({
                    url: "http://truevl.com/test/settings/message_author",
                    data: data,
                    method: "post",
                    datatype: "json",
                    success: function(response){
                       $("#msg_pb").modal('hide');
                      if(response==1){
                       $("#suc_msg").html("<h2 style='text-align:center;'>Report submited </h2>");
                        $("#submitModal").modal('show');
                      }

                      if(response==2){
                       $("#suc_msg").html("<h2 style='text-align:center;'>Already Reported</h2>");
                       $("#submitModal").modal('show');
                      }
                    }
                });



          });

           $("#pb_msg").keyup(function(){

                if($("#pb_msg").val().length > 450){
                  $("#rep_ad_msg").html("<br><div style='margin-left: 15px;'> Max 450 character allowed </div>").css({"color":"red", "font-size": "12px", "font-weight" : "bold"});
                  return false;
                }
            });
    }

    function rights(pid){

      location.href="http://truevl.com/test/settings/copyright/"+pid;
    }

   
   



    function replies(pid, uid, key, pbuu,rand, pp,cmnt){
      user_comments(pid,key);
      $(".feedComm"+key).show();
    }

    var counterr=0;
    function increase(e, pid,key){
      $("#incrBtn").attr("disabled","true");
        counterr=counterr+1;
        var data=$("#status_comment"+key).val();
        $("#status_comment").html("");
        document.getElementById("status_comment"+key).innerHTML="";
        document.getElementById("status_comment"+key).value="";
        var counter=$(".ncmnts"+key).html();
        $(".ncmnts"+key).html(parseInt(counter)+1);
        $.ajax({
          url: "http://truevl.com/test/Feeds/post_comment/"+pid,
          data: {"content" : data, "rid": 0,"counterr":counterr  },
          method: "post",
          success: function(response){
            $(".comBtn"+key).html("");

            $(".feedComms"+key).append(response);
             // $("#loadcomments"+key).append(response);
          }
      });
    }

function user_comments(pid,key)    
{
      $("#loadcomments"+key).html("");
      $.ajax({
           url:"http://truevl.com/test/Feeds/user_comments/",
           method: "POST",
           data: {pid: pid, key: key},
           beforeSend: function(){
             $("#feedComm"+key).html("<img src='http://truevl.com/test/assets/img/loading.gif' style='width: 24px; height: 24px;margin-left: 45%;'>" );
           }, 
           success:function(data)
            {
              $("#feedComm"+key).html("");
              // $(".loadcomments").not($("#loadcomments"+key)).html("");
              $("#loadcomments"+key).html(data);
            }
          });
}
   
 function mark_spam(opt, pid, uid, key){
    $.ajax({
      url: "http://truevl.com/test/Feeds/mark_spam",
      type: "post",
      data: {pid: pid, uid: uid},
      success: function(response){
          if(response){
           
            $("#option2").modal('hide');
            $("#submitModal").modal("show");
            $("#suc_msg").html("<h2 style='text-align:center;'>Report Submitted </h2>");
            $.ajax({
             url: "http://truevl.com/test/Feeds/hide_post/",
             data: {id: pid },
             method: "post",
             success: function(response){
               $(".post"+key).hide();
             }
            });  
          }
      }

    });
 }

 function postLikes(pid){
  
  $.ajax({
    url: "http://truevl.com/test/Feeds/postLikes/"+pid,
    type: "post",
    data: {},
    success: function(response){
        $("#likeModal").modal("show");
      $("#postLikes").html(response);
    
    }
  });
 }

  function Express(){
    var a=document.getElementById("express").value;
    $('.hiddendiv').html(a+ '<br class="lbr">').css("min-height", "42px");
    $("#express").css('height',  $('.hiddendiv').height());

    if(a.length > 0){
      $(".expBtn").html(" <input type='submit' class='btn btn-primary pull-right' value='Post' form='statusForm' ><div class='cl'> </div>")
    }
    else{
       $(".expBtn").html("")
    }
  } 

  function postLink(){
    $("#pl").html("<input type='text' id='url' placeholder=' Enter URL ' style='width: 100%;border: 1px solid #ccc;margin-bottom: 8px;' oninput='parse_link()' onpaste='parse_link()' onkeyup='parse_link();' name='short_des' >");
    $("#express").css("display", "none");

    $("#linkPost").html(' <button style="background: none; border: none;" onclick="postIc();return false;" ><img src="http://truevl.com/test/assets/img/status.png" height="16px" width="16px" style="width: 16px;" valign="middle" > Post    </button>');
  }

  function postIc(){
     $("#pl").html("");
    $("#express").css("display", "block");

     $("#linkPost").html(' <button style="background: none; border: none;" onclick="postLink();return false;" ><img src="http://truevl.com/test/assets/img/link.png" height="24px" width="24px" style="width: 24px;" valign="middle" > Link    </button>');
  }

  function preview_image(event) 
  {
      var reader = new FileReader();
      reader.onload = function()
      {
        var output = document.getElementById('statusImg');
        output.src = reader.result;
      }
      reader.readAsDataURL(event.target.files[0]);
      $("#rprev").html("<a href='#' onclick='removeImagePrev();'> Remove preview </a>");
  }

  function removeImagePrev(){
      $("#statusImg").attr("src", "");
      $("#rprev").html("");
      $('input[type=file]').val("");
  } 

</script>


<script type="text/javascript">
  
 function statusForm(e){
  
  $("#pbtn").attr("disabled", "true");
  var form = $('#statusForm')[0]; 
  var formData = new FormData(form);
  var wordCount = document.getElementById("express").value.trim().split(/\s+/).length; 
  var status= document.getElementById("express").value;

  if(status==""){
        $('#s_msg').html("Sorry! This field can't be empty");
        return false
  }
  if(wordCount>100){
        $('#s_msg').html("Sorry! only 100 words are allowed");
        return false;
  }
       e.preventDefault();
       $.ajax({
        url: 'http://truevl.com/test/post/submit_my_post/3',
        method: 'post',
        data: formData,
        dataType: "json",
        beforeSend: function(){
          $("#npost").html("<img src='http://truevl.com/test/assets/img/loading.gif' style='width: 10%; margin-left: 45%;'> ").css("display", "block"); 
        },
        success: function(response){
          
          $("#npost").html("");
          if(response==1){    
              $("#newBlog").modal('show');
              location.reload();
          }
          else{
              return false;
          }
        },
        cache: false,
        contentType: false,
        processData: false, 

    });
     return false;

 }

 function parse_link()
  {
      var imgUrl;
      var chkImg;
      if(!isValidURL($('#url').val()))
      {
        return false;
      }
      else
      {
        $("#detach").css("display", "none");
        $('#atc_loading').show();
        $('#atc_url').html($('#url').val());
        $.ajax({

              url: "http://truevl.com/test/post/fetchPreview/",
              data: { url: $('#url').val() },
              type: "post",
              success:  function(response){
                
                 $('#atc_loading').hide();
                  $('#atc_title').html(response.title);
                  $('#atc_desc').html(response.description);
                  $('#atc_total_images').html(response.total_images);

                   $('#atc_images').html(' ');
                    console.log(response);
                   if(response.images[0].attributes)
                     {  imgUrl=response.images[0].attributes.src; 
                        chkImg=checkURL(imgUrl)
                        if(chkImg!=1){
                          if(response.images[1].attributes){
                           imgUrl=response.images[1].attributes.src; 
                           chkImg=checkURL(imgUrl)
                             if(chkImg!=1){
                              if(response.images[2].attributes){
                                 imgUrl=response.images[2].attributes.src; 
                                 chkImg=checkURL(imgUrl)
                                 if(chkImg!=1){
                                  if(response.images[3].attributes){
                                     imgUrl=response.images[3].attributes.src; 
                                        chkImg=checkURL(imgUrl)
                                       if(chkImg!=1){
                                        if(response.images[3].attributes){
                                           imgUrl=response.images[3].attributes.src; 
                                } 
                              }
                                } 
                              }
                            } 
                          }


                          }
                        }

                     }

                    
                   else
                      { imgUrl=response.images; }

                    
                  var RegExp = /\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;
                    
                  var str = imgUrl.split("?");
                  imgUrl = str[0];

                  if(RegExp.test(imgUrl)){
                      var x=1;
                  }
                  else { x=0; }

                   chkImg=checkURL(imgUrl);

                  if(chkImg==1){
                      x=1;
                  }
                  else{
                     x=0;
                  }

                  if (x==1)
                  {
                 
                    
                      $('#atc_images').append('<img src="'+imgUrl+'" width="100%" id="">');
                      $("#prevImg").attr("src", imgUrl);
                        imgUrl=imgUrl.replace(/%2F/gi, "-2F");
                        $("#imgs").attr("value", imgUrl); 
                        console.log(imgUrl); 
                  }

                 

                  $("#post_title_ln").attr("value", response.title );
                  $("#short_des_link").attr("value", response.description );
                  // $("#chBox").html("<table> <tr><td> <input type='checkbox'> </td> <td style='line-height: 13px'>&nbsp; Allow people to send you promotion request on this post </td></tr></table>");    
                  $("#attach_contenta").show();
                      $(".expBtn1").html(" <input type='button' class='btn pull-right' value='Cancel' style='margin: 0px 12px;width: 14%;' onclick='cancelPreview();return false;' >  <input type='submit' class='btn-primary pull-right' value='Post' id='pbtn2' style='width: 14%;' form='form2' ><div class='cl'> </div>").show();
                       
            }
         
      });
      }
    };  

    function cancelPreview(){
      $("#attach_contenta").hide();
      $(".expBtn1").hide();
      $("#url").val("");
    }

    function checkURL(url) {
      if(url.match(/\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?.(jpeg|jpg|gif|png)$/) != null){
        return 1;
      }
      else{
        return 0;
      }
    }


  function isValidURL(url)
  {
    var RegExp = /(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;
    
    if(RegExp.test(url)){
      return true;
    }else{
      return false;
    }
  }

   function submitLink(e){
      var val = $("#url").val();
      // var regex = /^(https?:\/\/)?[a-z0-9-]*\.?[a-z0-9-]+\.[a-z0-9-]+(\/[^<>]*)?$/;
      //  var isValid = regex.test(val);
     
      //   if(regex.test(val))
      //   {
        
      //     check=0;
      //   }
      //   else{
         
      //     check=1;
      //   }
       
       var form = $('#form2')[0]; 
       var formData = new FormData(form);   
    

     $.ajax({
   
    url: 'http://truevl.com/test/post/submit_my_post/2',
    data:formData,
    type: 'POST', 
    cache: false,
    contentType: false,
    processData: false, 
    beforeSend: function(){
          $("#npost").html("<img src='http://truevl.com/test/assets/img/loading.gif' style='width: 10%; margin-left: 45%;'> ").css("display", "block"); 
        },

    success: function(response){  
        $("#npost").html(" ").css("display", "none"); 
        $('#newBlog').modal('show');
        location.reload();
        e.preventDefault();  
    }
    
    
  });
   
    return false;
  }


   function postCom(key,pid){
        $("[class^=mod-replies]").html("");
        $("[id^=rep]").html("");
        var x=document.getElementById("status_comment"+key).style.height;
        var len=document.getElementById("status_comment"+key).value.length;
        if(len > 160){
          document.getElementById("status_comment"+key).style.height="70px";
        }
       if(len > 250){
     
        document.getElementById("status_comment"+key).style.height="100px";
      }
      else{
         document.getElementById("status_comment"+key).style.height="40px";
      }
      var data=document.getElementById("status_comment"+key).value;
        if(data.length >0){
         $(".comBtn"+key).html("<button onclick='increase(event,"+pid+" ,"+key+");return false;' class='btn-primary' id='incrBtn' style='width: 50px;'> Post </button>");
        }
        else{
          $(".comBtn"+key).html("");
        }
      } 
    
    function delComment(pid, key,kkey){
      $("#deleteCmntModal").modal('show');  
      $("#del_cy").click(function(){
         var replyCount=$(".replyCount"+kkey).html();
          $.ajax({
            url: 'http://truevl.com/test/Feeds/delete_cmnt/'+pid,
            type: 'POST', 
            cache: false,
            contentType: false,
            processData: false,
           
            success: function(response){
            if(response==1)
              {
                $("#deleteCmntModal").modal('hide');
               $(".replyCount"+kkey).html(parseInt(replyCount)-1);
                $(".pcomments"+pid).html("<p> Comment deleted </p> ").fadeOut(2000);
                 return false;
            }
            else{
               console.log(response);
            }
            }
            });
      });
    
       $("#del_cn").click(function(){
            $("#deleteCmntModal").modal('hide');  
       });
   
  
}

  function editComment(cid, key, comments){
    var comments=$("#hid"+key).val();
    $(".ureply"+key).html("<textarea style='height: 28px;border: 1px solid #ddd;' onkeyup='edComment(\""+key+"\");return false;' id='textarea"+key+"' >"+comments+"</textarea><br><input type='button' value='Save Changes' onclick='updateCmnt("+cid+", \""+key+"\");return false;' style='width: 21%;padding: 0px; font-size: 11px;' class='btn' id='cmntupdateBtn"+key+"' disabled> &nbsp;&nbsp; <input type='button' style='padding: 0px;font-size: 11px;' onclick='cncldlt(\""+comments+"\",\""+key+"\"); return false;' value='Cancel' class='btn'>"); 

  }

  function cncldlt(comments,key){
      $(".ureply"+key).html(comments);
  }

  function edComment(key){
      $("#cmntupdateBtn"+key).prop("disabled", false).removeClass("btn").addClass("btn-primary");
  }

  function updateCmnt(cid,key){
    var content=$("#textarea"+key).val();
    $.ajax({
      url: "http://truevl.com/test/Feeds/updateCmnt",
      type: "post",
      data: {content: content, cid: cid},
      success: function(response){
        console.log(response);
         $(".ureply"+key).html(content);
         $("#hid"+key).attr("value",content);
      }
    });
  }

   function cmntNow(pid,key){
        $("#absPos").css("background", "#454545d1");
          user_comments(pid,key);
        $("#modal_status_data").html("<textarea style='width:99%; color: #000;' onkeyup='increase(event,"+pid+", "+key+");' id='status_comment'></textarea>");
      }

     function repcmnt(rid,i,pid,uid,key,unm,pp,kkey){ 
     
       $('.mod-replies').not('#mod-replies'+kkey).html("");
          $.ajax({
          url:"http://truevl.com/test/Feeds/user_replies/",
          method: "POST",
          data: {rid: rid,kkey:kkey,pid:pid,uid:uid,key:key,unm:unm,pp:pp},
          success:function(data)
            {
               $(".mod-replies"+kkey).html(data);
            }
          });   
      }


      function cmnt(e,rid,id,pid,uid,key,unm,pp,flag,kkey){
         content = $("#comments"+id).val();
         if(content.length  > 0){
           $(".repBtn"+key).html("<button onclick='cmntreply(event,"+rid+",\""+id+"\","+pid+","+uid+","+key+",\""+unm+"\",\""+pp+"\","+flag+","+kkey+");return false;' class='btn-primary'  style='width: 38px;font-size: 11px;' id='cmntreply'> Post </button>"); 
         }
         else{
          $(".repBtn"+key).html("");
         }
      } 
      var rcounterr=0;
      function cmntreply(e,rid,id,pid,uid,key,unm,pp,flag,kkey){

        $("#cmntreply").attr("disabled", "true");
        rcounterr=rcounterr+1;
      content = $("#comments"+id).val(); 
      var x=y="";
      var replyCount=$(".replyCount"+key).html();
      var counter=$(".ncmnts"+key).html();
        $.ajax({
              type: 'post',
              url: 'http://truevl.com/test/Feeds/post_comment/'+pid,
              data: {
                content:content, rid: rid,kkey:kkey,counter:rcounterr
              },
              success: function (response){
                $("#comments"+id).val('');    
              if(flag==2){       
                repcmnt(rid,id,pid,uid,key,unm,pp,rid+"0");
              }

                $(".ncmnts"+kkey).html(parseInt(counter)+1);
                $(".replyCount"+kkey).html(parseInt(replyCount)+1);
              },
             });       
      }

    function unfmodal(id){
      $("#unf").html('<div class="modal fade" id="unfModal" role="dialog">    <div class="modal-dialog modal-sm">      <div class="modal-content">        <div class="modal-header">          <button type="button" class="close" data-dismiss="modal">&times;</button>          <h4 class="modal-title"> &nbsp; Unfriend User </h4>        </div>        <div class="modal-body" style="padding: 0px;">          <br>          <p> Are you sure you want to unfriend this user? </p>          <br>           <a href="#" onclick="disconnect('+id+');" value="yes" class="mbtn-left btn-gray"> Yes </a><a  href="#" value="no" class="mbtn-right" data-dismiss="modal"> No </a>        </div>      </div>    </div>  </div> ');

      $("#unfModal").modal("show");
    }  


  function blkmodal(id){
      $("#blk").html('<div class="modal fade" id="blkModal" role="dialog">    <div class="modal-dialog modal-sm">      <div class="modal-content">        <div class="modal-header">          <button type="button" class="close" data-dismiss="modal">&times;</button>          <h4 class="modal-title"> &nbsp; Block User </h4>        </div>        <div class="modal-body" style="padding: 0px;">          <br>          <p> Are you sure you want to block this user? </p>          <br>           <a href="#" onclick="block('+id+');" value="yes" class="mbtn-left btn-gray"> Yes </a><a  href="#" value="no" class="mbtn-right" data-dismiss="modal"> No </a>        </div>      </div>    </div>  </div> ');
      $("#option2").modal("hide");
      $("#blkModal").modal("show");
    }  

</script>
 
  
